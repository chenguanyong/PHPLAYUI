{include file="public/header"}
<body class="gray-bg" >
<div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>完整验证表单</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="form_basic.html#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="form_basic.html#">选项1</a>
                                </li>
                                <li><a href="form_basic.html#">选项2</a>
                                </li>
                            </ul>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="display: block;">
                        <form class="form-horizontal " id="signupForm" >

                            <div class="form-group">
                                <label class="col-sm-3 control-label">真实名字：</label>
                                <div class="col-sm-8">
                                    <input id="trueName" name="trueName" class="form-control" type="text" aria-required="true" aria-invalid="false">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">用户名：</label>
                                <div for="userName" class="col-sm-8">
                                    <input id="username" name="userName" class="form-control" type="text" aria-required="true" aria-invalid="true">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label">E-mail：</label>
                                <div for="userEmail" class="col-sm-8">
                                    <input id="userEmail" name="userEmail" class="form-control" type="email">
                                </div>
                            </div>
						    <div class="form-group">
						        <label class="col-sm-3 control-label">昵称：</label>
						        <div for="loginName" class="col-sm-9">
						            <input type="text" id="loginName" name="loginName" class="form-control" placeholder="请输入文本"> <span class="help-block m-b-none">说明文字</span>
						        </div>
						    </div>
						    <div class="form-group">
						        <label class="col-sm-3 control-label">生日：</label>
						        <div for="brithday" class="col-sm-9">
						            <input type="text" id="brithday" name="brithday" class="form-control" placeholder="请输入文本"> <span class="help-block m-b-none">说明文字</span>
						        </div>
						    </div>
						    <div class="form-group">
						        <label class="col-sm-3 control-label">手机号：</label>
						        <div for="userPhone" class="col-sm-9">
						            <input type="text" id="userPhone" name="userPhone" class="form-control" placeholder="请输入文本"> <span class="help-block m-b-none">说明文字</span>
						        </div>
						    </div>
						    <div class="form-group">
						        <label class="col-sm-3 control-label">QQ：</label>
						        <div for="userQQ" class="col-sm-9">
						            <input type="text" id="userQQ" name="userQQ" class="form-control" placeholder="请输入文本"> <span class="help-block m-b-none">说明文字</span>
						        </div>
						    </div>
                            <div class="form-group">
                                <div class="col-sm-8 col-sm-offset-3">
                                    <button id="submit" class="btn btn-primary" data-id="{$userid}"  lay-submit="" lay-filter="add-role">提交</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
	{include file="public/footer"}
	    <script src="__js__/plugins/validate/jquery.validate.min.js"></script>
    <script src="__js__/plugins/validate/messages_zh.min.js"></script>
      <script  type="text/javascript">

var input = {};
$("#submit").on("click",function(){
	$("#signupForm").find("input").each(function(){
		
		//input.$(this).attr("name") = $(this).val();
		//alert($(this).val());
		eval("input."+$(this).attr("name")+"='"+$(this).val()+"';");
	});
	input.id=$("#submit").attr("data-id");
	
});
$.validator.setDefaults({
    submitHandler: function() {
    	$.post("{:url('ajaxEditProfile')}",input,function(){
    		alert("保存成功");
    		
    	},"json");
    	return false;
    }
    
});
$().ready(function() {
	// 在键盘按下并释放及提交后验证提交表单
	  $("#signupForm").validate({
		    rules: {
		     trueName: "required",
		     userName: {
		        required: true,
		        minlength: 2
		      },
		      userEmail: {
		        required: true,
		        email: true
		      },
		      userPhone:{
		    	  required: true, 
		    		rangelength:[11,12]
		      },
		      brithday:{
		    	  required: true, 
		    	  date:true
		      },
		      loginName:{
		    	  required: true, 
		    		rangelength:[5,10]
		      },
		      userQQ:{
		    	  number:true,
		    	  rangelength:[5,13]
		      },
		      agree: "required"
		    },
		    messages: {
		    	trueName: "请输入您的名字",
		    	userName: {
		        required: "请输入用户名",
		        minlength: "用户名必需由两个字母组成"
		      },
		      userEmail: "请输入一个正确的邮箱",
		      userPhone: "请接受我们的声明",
		      brithday: "请输入你的生日",
		      loginName: "请输入你的登录名",
		      userQQ: "请输入qq"
		      
		    }
		});
	});
    </script>

  